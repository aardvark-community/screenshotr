@page "/"
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor httpContextAccessor
@inject ScreenshotrApp App

<PageTitle>Screenshotr</PageTitle>
<Filter></Filter>
@if (App.Model.ShowGallery)
{
    <Gallery></Gallery>
}
@if (App.Model.ShowSlideshow)
{
    <Slideshow></Slideshow>
}

@code
{
	private void Update() => InvokeAsync(this.StateHasChanged);
    protected override void OnInitialized()  => App.OnChange += Update;
    public void Dispose() => App.OnChange -= Update;
}